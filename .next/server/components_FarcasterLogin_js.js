"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "components_FarcasterLogin_js";
exports.ids = ["components_FarcasterLogin_js"];
exports.modules = {

/***/ "./components/FarcasterLogin.js":
/*!**************************************!*\
  !*** ./components/FarcasterLogin.js ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FarcasterLogin)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_2__]);\naxios__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nfunction FarcasterLogin({ onLogin }) {\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Start Neynar Quick Auth (opens a popup for Farcaster login)\n    const handleLogin = async ()=>{\n        setLoading(true);\n        setError(\"\");\n        try {\n            // This endpoint returns a URL for the Neynar Quick Auth popup\n            const { data } = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get(\"/api/farcaster-auth-url\");\n            const authWindow = window.open(data.url, \"_blank\", \"width=500,height=700\");\n            // Listen for message from the popup\n            const handleMessage = (event)=>{\n                if (event.origin !== window.location.origin) return;\n                if (event.data.farcasterUser) {\n                    onLogin(event.data.farcasterUser);\n                    window.removeEventListener(\"message\", handleMessage);\n                    authWindow.close();\n                }\n            };\n            window.addEventListener(\"message\", handleMessage);\n        } catch (err) {\n            setError(\"Failed to start Farcaster login.\");\n        }\n        setLoading(false);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            textAlign: \"center\",\n            margin: \"24px 0\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleLogin,\n                disabled: loading,\n                children: loading ? \"Signing in...\" : \"Sign in with Farcaster\"\n            }, void 0, false, {\n                fileName: \"/Users/geaux.eth/CascadeProjects/spaXes/components/FarcasterLogin.js\",\n                lineNumber: 35,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    color: \"red\",\n                    marginTop: 8\n                },\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/geaux.eth/CascadeProjects/spaXes/components/FarcasterLogin.js\",\n                lineNumber: 38,\n                columnNumber: 17\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/geaux.eth/CascadeProjects/spaXes/components/FarcasterLogin.js\",\n        lineNumber: 34,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0ZhcmNhc3RlckxvZ2luLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBaUM7QUFDUDtBQUVYLFNBQVNFLGVBQWUsRUFBRUMsT0FBTyxFQUFFO0lBQ2hELE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHTCwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNNLE9BQU9DLFNBQVMsR0FBR1AsK0NBQVFBLENBQUM7SUFFbkMsOERBQThEO0lBQzlELE1BQU1RLGNBQWM7UUFDbEJILFdBQVc7UUFDWEUsU0FBUztRQUNULElBQUk7WUFDRiw4REFBOEQ7WUFDOUQsTUFBTSxFQUFFRSxJQUFJLEVBQUUsR0FBRyxNQUFNUixpREFBUyxDQUFDO1lBQ2pDLE1BQU1VLGFBQWFDLE9BQU9DLElBQUksQ0FBQ0osS0FBS0ssR0FBRyxFQUFFLFVBQVU7WUFFbkQsb0NBQW9DO1lBQ3BDLE1BQU1DLGdCQUFnQixDQUFDQztnQkFDckIsSUFBSUEsTUFBTUMsTUFBTSxLQUFLTCxPQUFPTSxRQUFRLENBQUNELE1BQU0sRUFBRTtnQkFDN0MsSUFBSUQsTUFBTVAsSUFBSSxDQUFDVSxhQUFhLEVBQUU7b0JBQzVCaEIsUUFBUWEsTUFBTVAsSUFBSSxDQUFDVSxhQUFhO29CQUNoQ1AsT0FBT1EsbUJBQW1CLENBQUMsV0FBV0w7b0JBQ3RDSixXQUFXVSxLQUFLO2dCQUNsQjtZQUNGO1lBQ0FULE9BQU9VLGdCQUFnQixDQUFDLFdBQVdQO1FBQ3JDLEVBQUUsT0FBT1EsS0FBSztZQUNaaEIsU0FBUztRQUNYO1FBQ0FGLFdBQVc7SUFDYjtJQUVBLHFCQUNFLDhEQUFDbUI7UUFBSUMsT0FBTztZQUFFQyxXQUFXO1lBQVVDLFFBQVE7UUFBUzs7MEJBQ2xELDhEQUFDQztnQkFBT0MsU0FBU3JCO2dCQUFhc0IsVUFBVTFCOzBCQUNyQ0EsVUFBVSxrQkFBa0I7Ozs7OztZQUU5QkUsdUJBQVMsOERBQUNrQjtnQkFBSUMsT0FBTztvQkFBRU0sT0FBTztvQkFBT0MsV0FBVztnQkFBRTswQkFBSTFCOzs7Ozs7Ozs7Ozs7QUFHN0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGFYZXMvLi9jb21wb25lbnRzL0ZhcmNhc3RlckxvZ2luLmpzP2QwZjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBGYXJjYXN0ZXJMb2dpbih7IG9uTG9naW4gfSkge1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpO1xuXG4gIC8vIFN0YXJ0IE5leW5hciBRdWljayBBdXRoIChvcGVucyBhIHBvcHVwIGZvciBGYXJjYXN0ZXIgbG9naW4pXG4gIGNvbnN0IGhhbmRsZUxvZ2luID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IoJycpO1xuICAgIHRyeSB7XG4gICAgICAvLyBUaGlzIGVuZHBvaW50IHJldHVybnMgYSBVUkwgZm9yIHRoZSBOZXluYXIgUXVpY2sgQXV0aCBwb3B1cFxuICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBheGlvcy5nZXQoJy9hcGkvZmFyY2FzdGVyLWF1dGgtdXJsJyk7XG4gICAgICBjb25zdCBhdXRoV2luZG93ID0gd2luZG93Lm9wZW4oZGF0YS51cmwsICdfYmxhbmsnLCAnd2lkdGg9NTAwLGhlaWdodD03MDAnKTtcblxuICAgICAgLy8gTGlzdGVuIGZvciBtZXNzYWdlIGZyb20gdGhlIHBvcHVwXG4gICAgICBjb25zdCBoYW5kbGVNZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5vcmlnaW4gIT09IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pIHJldHVybjtcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEuZmFyY2FzdGVyVXNlcikge1xuICAgICAgICAgIG9uTG9naW4oZXZlbnQuZGF0YS5mYXJjYXN0ZXJVc2VyKTtcbiAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZU1lc3NhZ2UpO1xuICAgICAgICAgIGF1dGhXaW5kb3cuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlTWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBzZXRFcnJvcignRmFpbGVkIHRvIHN0YXJ0IEZhcmNhc3RlciBsb2dpbi4nKTtcbiAgICB9XG4gICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicsIG1hcmdpbjogJzI0cHggMCcgfX0+XG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUxvZ2lufSBkaXNhYmxlZD17bG9hZGluZ30+XG4gICAgICAgIHtsb2FkaW5nID8gJ1NpZ25pbmcgaW4uLi4nIDogJ1NpZ24gaW4gd2l0aCBGYXJjYXN0ZXInfVxuICAgICAgPC9idXR0b24+XG4gICAgICB7ZXJyb3IgJiYgPGRpdiBzdHlsZT17eyBjb2xvcjogJ3JlZCcsIG1hcmdpblRvcDogOCB9fT57ZXJyb3J9PC9kaXY+fVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwiYXhpb3MiLCJGYXJjYXN0ZXJMb2dpbiIsIm9uTG9naW4iLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJoYW5kbGVMb2dpbiIsImRhdGEiLCJnZXQiLCJhdXRoV2luZG93Iiwid2luZG93Iiwib3BlbiIsInVybCIsImhhbmRsZU1lc3NhZ2UiLCJldmVudCIsIm9yaWdpbiIsImxvY2F0aW9uIiwiZmFyY2FzdGVyVXNlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlcnIiLCJkaXYiLCJzdHlsZSIsInRleHRBbGlnbiIsIm1hcmdpbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsImNvbG9yIiwibWFyZ2luVG9wIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/FarcasterLogin.js\n");

/***/ })

};
;